{"ast":null,"code":"import _slicedToArray from\"/home/nicco/Development/code/phase4/travela/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Bookings(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),bookings=_useState2[0],setBooking=_useState2[1];var token=localStorage.getItem(\"jwt\");var passenger=localStorage.getItem(\"passenger\");console.log(passenger);useEffect(function(){fetch(\"/bookings\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token)}}).then(function(res){if(res.ok){res.json().then(function(bookings){return setBooking(bookings);});}else{console.log(\"there was an error\");}});},[]);var bookingList=bookings.filter(function(b){return\"\".concat(b.passenger.id)===passenger;}).map(function(booking){return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-md bg-sky-100\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"m-3 flex flex-row justify-evenly\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-violet-900\",children:\"Trip From: \"}),booking.trip.route.start,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-violet-9git00\",children:\"To: \"}),booking.trip.route.destination]}),/*#__PURE__*/_jsxs(\"p\",{className:\"m-3 flex flex-row justify-evenly\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lime-400\",children:\" The Driver's Phone Number is: \"}),/*#__PURE__*/_jsx(\"span\",{children:booking.trip.bus.driver_number}),\" \"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"m-3 flex flex-row justify-evenly\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-400\",children:\" Bus Number Plate: \"}),booking.trip.bus.number_plate]}),/*#__PURE__*/_jsx(\"p\",{className:\"flex flex-row p-2 justify-around\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-sky-500 rounded-md p-3 border\",children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(booking.id),children:\"More Details\"})})})]});});return/*#__PURE__*/_jsx(\"div\",{className:\"grid sm:grid-cols-2 gap-4\",children:bookingList});}export default Bookings;","map":{"version":3,"names":["React","useState","useEffect","Link","Bookings","bookings","setBooking","token","localStorage","getItem","passenger","console","log","fetch","method","headers","Authorization","then","res","ok","json","bookingList","filter","b","id","map","booking","trip","route","start","destination","bus","driver_number","number_plate"],"sources":["/home/nicco/Development/code/phase4/travela/src/App/components/Dashboard/Bookings/index.jsx"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction Bookings() {\nconst [bookings ,setBooking] = useState([])\nconst token = localStorage.getItem(\"jwt\");\nconst passenger = localStorage.getItem(\"passenger\")\n\nconsole.log(passenger)\n\nuseEffect(()=>{\n  fetch(\"/bookings\", {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  })\n  .then(res =>{\n    if(res.ok){\n     res.json().then(bookings =>setBooking(bookings))\n    }else\n  { console.log(\"there was an error\")}\n  }\n  )\n},[])\n\nlet bookingList = bookings.filter(b=>`${b.passenger.id}`===passenger).map(booking =><div className='rounded-md bg-sky-100'>\n  <p className='m-3 flex flex-row justify-evenly'><span className='text-violet-900'>Trip From: </span>{booking.trip.route.start} <span className='text-violet-9git00'>To: </span>{booking.trip.route.destination}</p>\n  <p className='m-3 flex flex-row justify-evenly'><span className='text-lime-400'> The Driver's Phone Number is: </span><span>{booking.trip.bus.driver_number}</span> </p>\n<p className='m-3 flex flex-row justify-evenly'><span className='text-orange-400'> Bus Number Plate: </span>{booking.trip.bus.number_plate}</p>\n<p className='flex flex-row p-2 justify-around'><button className='bg-sky-500 rounded-md p-3 border'><Link to={`${booking.id}`}>More Details</Link></button></p>\n</div>)\n  return (\n    <div className='grid sm:grid-cols-2 gap-4'>\n      {bookingList}\n    </div>\n  )\n}\n\nexport default Bookings"],"mappings":"iIAAA,MAAOA,MAAK,EAAEC,QAAQ,CAACC,SAAS,KAAO,OAAO,CAC9C,OAASC,IAAI,KAAQ,kBAAkB,yFAEvC,QAASC,SAAQ,EAAG,CACpB,cAA+BH,QAAQ,CAAC,EAAE,CAAC,wCAApCI,QAAQ,eAAEC,UAAU,eAC3B,GAAMC,MAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CACzC,GAAMC,UAAS,CAAGF,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAEnDE,OAAO,CAACC,GAAG,CAACF,SAAS,CAAC,CAEtBR,SAAS,CAAC,UAAI,CACZW,KAAK,CAAC,WAAW,CAAE,CACjBC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACPC,aAAa,kBAAYT,KAAK,CAChC,CACF,CAAC,CAAC,CACDU,IAAI,CAAC,SAAAC,GAAG,CAAG,CACV,GAAGA,GAAG,CAACC,EAAE,CAAC,CACTD,GAAG,CAACE,IAAI,EAAE,CAACH,IAAI,CAAC,SAAAZ,QAAQ,QAAGC,WAAU,CAACD,QAAQ,CAAC,GAAC,CACjD,CAAC,IACH,CAAEM,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC,EACnC,CAAC,CACA,CACH,CAAC,CAAC,EAAE,CAAC,CAEL,GAAIS,YAAW,CAAGhB,QAAQ,CAACiB,MAAM,CAAC,SAAAC,CAAC,QAAE,UAAGA,CAAC,CAACb,SAAS,CAACc,EAAE,IAAKd,SAAS,GAAC,CAACe,GAAG,CAAC,SAAAC,OAAO,qBAAG,aAAK,SAAS,CAAC,uBAAuB,wBACxH,WAAG,SAAS,CAAC,kCAAkC,wBAAC,aAAM,SAAS,CAAC,iBAAiB,yBAAmB,CAACA,OAAO,CAACC,IAAI,CAACC,KAAK,CAACC,KAAK,kBAAE,aAAM,SAAS,CAAC,oBAAoB,kBAAY,CAACH,OAAO,CAACC,IAAI,CAACC,KAAK,CAACE,WAAW,GAAK,cACnN,WAAG,SAAS,CAAC,kCAAkC,wBAAC,aAAM,SAAS,CAAC,eAAe,6CAAuC,oCAAOJ,OAAO,CAACC,IAAI,CAACI,GAAG,CAACC,aAAa,EAAQ,OAAK,cAC1K,WAAG,SAAS,CAAC,kCAAkC,wBAAC,aAAM,SAAS,CAAC,iBAAiB,iCAA2B,CAACN,OAAO,CAACC,IAAI,CAACI,GAAG,CAACE,YAAY,GAAK,cAC/I,UAAG,SAAS,CAAC,kCAAkC,uBAAC,eAAQ,SAAS,CAAC,kCAAkC,uBAAC,KAAC,IAAI,EAAC,EAAE,WAAKP,OAAO,CAACF,EAAE,CAAG,0BAAoB,EAAS,EAAI,GAC1J,GAAC,CACL,mBACE,YAAK,SAAS,CAAC,2BAA2B,UACvCH,WAAW,EACR,CAEV,CAEA,cAAejB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}