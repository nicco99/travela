{"ast":null,"code":"import _slicedToArray from\"/home/nicco/Development/code/phase4/travela/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Trip from\"./Trip\";import Login from\"../../Login\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Book(_ref){var user=_ref.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),newTrip=_useState2[0],setNewTrip=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),trip=_useState4[0],setTrip=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),start=_useState6[0],setStart=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),destination=_useState8[0],setDestination=_useState8[1];var token=localStorage.getItem(\"jwt\");useEffect(function(){fetch(\"/trips\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token)}}).then(function(res){return res.json();}).then(function(res){setTrip(res);});},[]);function handleClick(){var filteredArr=trip.filter(function(trip){return trip.route.start.toUpperCase()==start.toUpperCase()&&trip.route.destination.toUpperCase()==destination.toUpperCase();});setNewTrip(filteredArr);}return/*#__PURE__*/_jsx(\"div\",{className:\"h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-4 grid sm:grid-cols-2 gap-x-2 border rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\" bg-sky-50 rounded p-2 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"m-auto flex flex-col items-center mt-5 justify-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl\",children:\"To\"}),/*#__PURE__*/_jsx(\"input\",{className:\"bg-white mt-2 p-4 w-full border rounded-lg outline-black text-center type=\\\"text\\\" name=\\\"start \",value:start,onChange:function onChange(e){return setStart(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-auto flex flex-col items-center mt-5 justify-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl\",children:\"From\"}),/*#__PURE__*/_jsx(\"input\",{className:\"bg-white mt-2 p-4 w-full  border rounded-lg outline-black text-center type= \\\"text\\\" name=\\\"destination\\\"\",value:destination,onChange:function onChange(e){return setDestination(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center m-auto\",children:/*#__PURE__*/_jsx(\"button\",{className:\"outline text-sky-500 hover:bg-sky-600 w-full mt-8 h-7 rounded-lg hover:text-white\",onClick:handleClick,children:\"GO\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[\" \",/*#__PURE__*/_jsx(\"div\",{children:newTrip?newTrip.map(function(e){return/*#__PURE__*/_jsx(Trip,{trip:e},e.id);}):null})]})]})});}export default Book;","map":{"version":3,"names":["React","useState","useEffect","Trip","Login","Book","user","newTrip","setNewTrip","trip","setTrip","start","setStart","destination","setDestination","token","localStorage","getItem","fetch","method","headers","Authorization","then","res","json","handleClick","filteredArr","filter","route","toUpperCase","e","target","value","map","id"],"sources":["/home/nicco/Development/code/phase4/travela/src/App/components/Dashboard/Book/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Trip from \"./Trip\";\nimport Login from \"../../Login\";\nfunction Book({ user }) {\n  const [newTrip, setNewTrip] = useState([]);\n  const [trip, setTrip] = useState([]);\n  const [start, setStart] = useState(\"\");\n  const [destination, setDestination] = useState(\"\");\n  const token = localStorage.getItem(\"jwt\");\n\n  useEffect(() => {\n    fetch(\"/trips\", {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        setTrip(res);\n      });\n  }, []);\n\n  function handleClick() {\n    let filteredArr = trip.filter(\n      (trip) =>\n        trip.route.start.toUpperCase() == start.toUpperCase() &&\n        trip.route.destination.toUpperCase() == destination.toUpperCase()\n    );\n    setNewTrip(filteredArr);\n  }\n\n  return (\n    <div className=\"h-screen\">\n      <div className=\"w-full p-4 grid sm:grid-cols-2 gap-x-2 border rounded\">\n        <div className=\" bg-sky-50 rounded p-2 \">\n          <div className=\"m-auto flex flex-col items-center mt-5 justify-center\">\n            <span className=\"text-3xl\">To</span>\n            <input\n              className='bg-white mt-2 p-4 w-full border rounded-lg outline-black text-center type=\"text\" name=\"start '\n              value={start}\n              onChange={(e) => setStart(e.target.value)}></input>\n          </div>\n          <div className=\"m-auto flex flex-col items-center mt-5 justify-center\">\n            <span className=\"text-3xl\">From</span>\n            <input\n              className='bg-white mt-2 p-4 w-full  border rounded-lg outline-black text-center type= \"text\" name=\"destination\"'\n              value={destination}\n              onChange={(e) => setDestination(e.target.value)}></input>\n          </div>\n          <div className=\"flex justify-center m-auto\">\n            <button\n              className=\"outline text-sky-500 hover:bg-sky-600 w-full mt-8 h-7 rounded-lg hover:text-white\"\n              onClick={handleClick}>\n              GO\n            </button>\n          </div>\n        </div>\n        <div className=\"\">\n          {\" \"}\n          <div>\n            {newTrip\n              ? newTrip.map((e) => {\n                  return <Trip key={e.id} trip={e} />;\n                })\n              : null}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Book;\n"],"mappings":"iIAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,KAAI,KAAM,QAAQ,CACzB,MAAOC,MAAK,KAAM,aAAa,CAAC,wFAChC,QAASC,KAAI,MAAW,IAARC,KAAI,MAAJA,IAAI,CAClB,cAA8BL,QAAQ,CAAC,EAAE,CAAC,wCAAnCM,OAAO,eAAEC,UAAU,eAC1B,eAAwBP,QAAQ,CAAC,EAAE,CAAC,yCAA7BQ,IAAI,eAAEC,OAAO,eACpB,eAA0BT,QAAQ,CAAC,EAAE,CAAC,yCAA/BU,KAAK,eAAEC,QAAQ,eACtB,eAAsCX,QAAQ,CAAC,EAAE,CAAC,yCAA3CY,WAAW,eAAEC,cAAc,eAClC,GAAMC,MAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAEzCf,SAAS,CAAC,UAAM,CACdgB,KAAK,CAAC,QAAQ,CAAE,CACdC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACPC,aAAa,kBAAYN,KAAK,CAChC,CACF,CAAC,CAAC,CACCO,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACC,GAAG,CAAK,CACbb,OAAO,CAACa,GAAG,CAAC,CACd,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,QAASE,YAAW,EAAG,CACrB,GAAIC,YAAW,CAAGjB,IAAI,CAACkB,MAAM,CAC3B,SAAClB,IAAI,QACHA,KAAI,CAACmB,KAAK,CAACjB,KAAK,CAACkB,WAAW,EAAE,EAAIlB,KAAK,CAACkB,WAAW,EAAE,EACrDpB,IAAI,CAACmB,KAAK,CAACf,WAAW,CAACgB,WAAW,EAAE,EAAIhB,WAAW,CAACgB,WAAW,EAAE,GACpE,CACDrB,UAAU,CAACkB,WAAW,CAAC,CACzB,CAEA,mBACE,YAAK,SAAS,CAAC,UAAU,uBACvB,aAAK,SAAS,CAAC,uDAAuD,wBACpE,aAAK,SAAS,CAAC,yBAAyB,wBACtC,aAAK,SAAS,CAAC,uDAAuD,wBACpE,aAAM,SAAS,CAAC,UAAU,gBAAU,cACpC,cACE,SAAS,CAAC,kGAA+F,CACzG,KAAK,CAAEf,KAAM,CACb,QAAQ,CAAE,kBAACmB,CAAC,QAAKlB,SAAQ,CAACkB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAS,GACjD,cACN,aAAK,SAAS,CAAC,uDAAuD,wBACpE,aAAM,SAAS,CAAC,UAAU,kBAAY,cACtC,cACE,SAAS,CAAC,2GAAuG,CACjH,KAAK,CAAEnB,WAAY,CACnB,QAAQ,CAAE,kBAACiB,CAAC,QAAKhB,eAAc,CAACgB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAS,GACvD,cACN,YAAK,SAAS,CAAC,4BAA4B,uBACzC,eACE,SAAS,CAAC,mFAAmF,CAC7F,OAAO,CAAEP,WAAY,gBAEd,EACL,GACF,cACN,aAAK,SAAS,CAAC,EAAE,WACd,GAAG,cACJ,qBACGlB,OAAO,CACJA,OAAO,CAAC0B,GAAG,CAAC,SAACH,CAAC,CAAK,CACjB,mBAAO,KAAC,IAAI,EAAY,IAAI,CAAEA,CAAE,EAAdA,CAAC,CAACI,EAAE,CAAa,CACrC,CAAC,CAAC,CACF,IAAI,EACJ,GACF,GACF,EACF,CAEV,CAEA,cAAe7B,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}