{"ast":null,"code":"import _slicedToArray from\"/home/nicco/Development/code/phase4/travela/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{NavLink,useNavigate}from\"react-router-dom\";import\"../css/LoginSignup.css\";// {setUser} pass as prop to signup function\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(){// add this to app together with login resource\nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var navigate=useNavigate();var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),phone=_useState10[0],setPhone=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),password=_useState12[0],setPassword=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),passwordConfirmation=_useState14[0],setPasswordConfirmation=_useState14[1];function submitHandler(e){e.preventDefault();fetch(\"/passengers\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:username,email:email,p_number:phone,password:password,password_confirmation:passwordConfirmation})}).then(function(res){if(res.ok){res.json().then(function(user){return setUser(user);});// localStorage.setItem(\"jwt\", user.jwt);\n// localStorage.setItem(\"passenger\", `${user.passenger.id}`);\nnavigate(\"/login\");}else{res.json().then(function(error){return setError(error);});}});}return/*#__PURE__*/_jsxs(\"div\",{className:\"form-inner\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Travela SignUp\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",min:\"5\",name:\"username\",required:\"required\",autoComplete:\"off\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",required:\"required\",autoComplete:\"off\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"phone\",min:\"10\",max:\"12\",name:\"phone\",required:\"required\",autoComplete:\"off\",value:phone,onChange:function onChange(e){return setPhone(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Phone\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",min:\"8\",name:\"password\",required:\"required\",id:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},autoComplete:\"current-password\"}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",required:\"required\",id:\"password\",value:passwordConfirmation,onChange:function onChange(e){return setPasswordConfirmation(e.target.value);},autoComplete:\"current-password\"}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password Confirmation\"})]}),error?/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error.errors}):null,/*#__PURE__*/_jsx(\"button\",{className:\"outline text-sky-400 hover:bg-sky-400 hover:text-white rounded-lg p-2 \",onClick:submitHandler,type:\"button\",children:\"SIGN IN\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login_link\",children:[\"Already have an account\",/*#__PURE__*/_jsx(NavLink,{to:\"/login\",children:\"Login\"})]})]})]});}export default Signup;","map":{"version":3,"names":["React","useState","NavLink","useNavigate","Signup","user","setUser","error","setError","navigate","username","setUsername","email","setEmail","phone","setPhone","password","setPassword","passwordConfirmation","setPasswordConfirmation","submitHandler","e","preventDefault","fetch","method","headers","body","JSON","stringify","p_number","password_confirmation","then","res","ok","json","target","value","errors"],"sources":["/home/nicco/Development/code/phase4/travela/src/App/components/Signup/index.jsx"],"sourcesContent":["import React, { useState} from 'react'\nimport { NavLink,useNavigate} from \"react-router-dom\"\nimport \"../css/LoginSignup.css\";\n\n\n\n\n// {setUser} pass as prop to signup function\n\nfunction Signup() {\n\n        // add this to app together with login resource\n        const [user, setUser] = useState({})\n        const [error, setError] = useState({})\nconst navigate = useNavigate()\n    const [username, setUsername] = useState(\"\")\n    const [email, setEmail ] = useState(\"\")\n    const [phone, setPhone] = useState(\"\")\n    const [password, setPassword] = useState(\"\");\n    const [passwordConfirmation, setPasswordConfirmation] = useState(\"\");\n\n    function submitHandler(e){\n        e.preventDefault()\n        fetch(\"/passengers\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n                username,\n                email,\n                p_number: phone,\n                password,\n                password_confirmation: passwordConfirmation,\n            }),\n        }).then((res) => {\n            if (res.ok) {\n                res.json().then((user) => setUser(user));\n                // localStorage.setItem(\"jwt\", user.jwt);\n                // localStorage.setItem(\"passenger\", `${user.passenger.id}`);\n                navigate(\"/login\")\n            }else{\n                res.json().then((error) => setError(error))\n            }\n        })\n      \n    }\n\n\nreturn (\n    <div className='form-inner'>\n        <h1>Travela SignUp</h1> \n\n            <form >\n                <div className='form-group'>\n                    <input \n                        type=\"text\" min=\"5\"\n                        name=\"username\" \n                        required = \"required\"\n                        autoComplete=\"off\"   \n                        value={username}\n                        onChange={(e) => setUsername(e.target.value)}                    \n                    />\n                    <span></span>\n                    <label>Username</label>\n                </div>\n\n                <div className='form-group'>\n                    <input \n                        type=\"email\" \n                        name=\"email\"\n                        required = \"required\"\n                        autoComplete=\"off\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                    <span></span>\n                    <label>Email</label>\n                </div>\n\n                <div className='form-group'>\n                    <input \n                        type=\"phone\" min=\"10\" max=\"12\"\n                        name=\"phone\" \n                        required = \"required\"\n                        autoComplete=\"off\"\n                        value={phone}\n                        onChange={(e) => setPhone(e.target.value)}\n                    />\n                    <span></span>\n                    <label>Phone</label>\n                </div>\n\n                <div className='form-group'>\n                    <input \n                        type=\"password\" min=\"8\"\n                        name=\"password\"\n                        required = \"required\"\n                        id=\"password\" \n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        autoComplete=\"current-password\"                              \n                    />\n                    <span></span>\n                    <label>Password</label>\n                </div>\n\n                <div className='form-group'>\n                    <input \n                        type=\"password\" \n                        name=\"password\" \n                        required = \"required\"\n                        id=\"password\" \n                        value={passwordConfirmation}\n                        onChange={(e) => setPasswordConfirmation(e.target.value)}\n                        autoComplete=\"current-password\"\n                    />\n                    <span></span>              \n                    <label>Password Confirmation</label>      \n                </div>        \n                    {error ? <p className='text-red-500'>{error.errors}</p>:null }\n                    <button className='outline text-sky-400 hover:bg-sky-400 hover:text-white rounded-lg p-2 ' onClick={submitHandler} type=\"button\"  >SIGN IN</button>\n\n                <div className=\"login_link\">\n                    Already have an account\n                    <NavLink to=\"/login\">Login</NavLink>\n                </div>\n\n            </form>\n            \n    </div>\n)\n}\n\nexport default Signup"],"mappings":"iIAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAO,OAAO,CACtC,OAASC,OAAO,CAACC,WAAW,KAAO,kBAAkB,CACrD,MAAO,wBAAwB,CAK/B;AAAA,wFAEA,QAASC,OAAM,EAAG,CAEV;AACA,cAAwBH,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAA7BI,IAAI,eAAEC,OAAO,eACpB,eAA0BL,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAA/BM,KAAK,eAAEC,QAAQ,eAC9B,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAC1B,eAAgCF,QAAQ,CAAC,EAAE,CAAC,yCAArCS,QAAQ,eAAEC,WAAW,eAC5B,eAA2BV,QAAQ,CAAC,EAAE,CAAC,yCAAhCW,KAAK,eAAEC,QAAQ,eACtB,eAA0BZ,QAAQ,CAAC,EAAE,CAAC,0CAA/Ba,KAAK,gBAAEC,QAAQ,gBACtB,gBAAgCd,QAAQ,CAAC,EAAE,CAAC,2CAArCe,QAAQ,gBAAEC,WAAW,gBAC5B,gBAAwDhB,QAAQ,CAAC,EAAE,CAAC,2CAA7DiB,oBAAoB,gBAAEC,uBAAuB,gBAEpD,QAASC,cAAa,CAACC,CAAC,CAAC,CACrBA,CAAC,CAACC,cAAc,EAAE,CAClBC,KAAK,CAAC,aAAa,CAAE,CACjBC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBlB,QAAQ,CAARA,QAAQ,CACRE,KAAK,CAALA,KAAK,CACLiB,QAAQ,CAAEf,KAAK,CACfE,QAAQ,CAARA,QAAQ,CACRc,qBAAqB,CAAEZ,oBAC3B,CAAC,CACL,CAAC,CAAC,CAACa,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,GAAIA,GAAG,CAACC,EAAE,CAAE,CACRD,GAAG,CAACE,IAAI,EAAE,CAACH,IAAI,CAAC,SAAC1B,IAAI,QAAKC,QAAO,CAACD,IAAI,CAAC,GAAC,CACxC;AACA;AACAI,QAAQ,CAAC,QAAQ,CAAC,CACtB,CAAC,IAAI,CACDuB,GAAG,CAACE,IAAI,EAAE,CAACH,IAAI,CAAC,SAACxB,KAAK,QAAKC,SAAQ,CAACD,KAAK,CAAC,GAAC,CAC/C,CACJ,CAAC,CAAC,CAEN,CAGJ,mBACI,aAAK,SAAS,CAAC,YAAY,wBACvB,sCAAuB,cAEnB,qCACI,aAAK,SAAS,CAAC,YAAY,wBACvB,cACI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CACnB,IAAI,CAAC,UAAU,CACf,QAAQ,CAAG,UAAU,CACrB,YAAY,CAAC,KAAK,CAClB,KAAK,CAAEG,QAAS,CAChB,QAAQ,CAAE,kBAACW,CAAC,QAAKV,YAAW,CAACU,CAAC,CAACc,MAAM,CAACC,KAAK,CAAC,EAAC,EAC/C,cACF,eAAa,cACb,mCAAuB,GACrB,cAEN,aAAK,SAAS,CAAC,YAAY,wBACvB,cACI,IAAI,CAAC,OAAO,CACZ,IAAI,CAAC,OAAO,CACZ,QAAQ,CAAG,UAAU,CACrB,YAAY,CAAC,KAAK,CAClB,KAAK,CAAExB,KAAM,CACb,QAAQ,CAAE,kBAACS,CAAC,QAAKR,SAAQ,CAACQ,CAAC,CAACc,MAAM,CAACC,KAAK,CAAC,EAAC,EAC5C,cACF,eAAa,cACb,gCAAoB,GAClB,cAEN,aAAK,SAAS,CAAC,YAAY,wBACvB,cACI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAC9B,IAAI,CAAC,OAAO,CACZ,QAAQ,CAAG,UAAU,CACrB,YAAY,CAAC,KAAK,CAClB,KAAK,CAAEtB,KAAM,CACb,QAAQ,CAAE,kBAACO,CAAC,QAAKN,SAAQ,CAACM,CAAC,CAACc,MAAM,CAACC,KAAK,CAAC,EAAC,EAC5C,cACF,eAAa,cACb,gCAAoB,GAClB,cAEN,aAAK,SAAS,CAAC,YAAY,wBACvB,cACI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CACvB,IAAI,CAAC,UAAU,CACf,QAAQ,CAAG,UAAU,CACrB,EAAE,CAAC,UAAU,CACb,KAAK,CAAEpB,QAAS,CAChB,QAAQ,CAAE,kBAACK,CAAC,QAAKJ,YAAW,CAACI,CAAC,CAACc,MAAM,CAACC,KAAK,CAAC,EAAC,CAC7C,YAAY,CAAC,kBAAkB,EACjC,cACF,eAAa,cACb,mCAAuB,GACrB,cAEN,aAAK,SAAS,CAAC,YAAY,wBACvB,cACI,IAAI,CAAC,UAAU,CACf,IAAI,CAAC,UAAU,CACf,QAAQ,CAAG,UAAU,CACrB,EAAE,CAAC,UAAU,CACb,KAAK,CAAElB,oBAAqB,CAC5B,QAAQ,CAAE,kBAACG,CAAC,QAAKF,wBAAuB,CAACE,CAAC,CAACc,MAAM,CAACC,KAAK,CAAC,EAAC,CACzD,YAAY,CAAC,kBAAkB,EACjC,cACF,eAAa,cACb,gDAAoC,GAClC,CACD7B,KAAK,cAAG,UAAG,SAAS,CAAC,cAAc,UAAEA,KAAK,CAAC8B,MAAM,EAAK,CAAC,IAAI,cAC5D,eAAQ,SAAS,CAAC,wEAAwE,CAAC,OAAO,CAAEjB,aAAc,CAAC,IAAI,CAAC,QAAQ,qBAAmB,cAEvJ,aAAK,SAAS,CAAC,YAAY,kDAEvB,KAAC,OAAO,EAAC,EAAE,CAAC,QAAQ,mBAAgB,GAClC,GAEH,GAET,CAEV,CAEA,cAAehB,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}